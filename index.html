<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Pencarian Kode GRID</title>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
/* ================= FIREBASE ================= */
const firebaseConfig = {
  apiKey: "AIzaSyCx41ZqmOIxnPR2LdprMOB4zUYPkthrhkA",
  authDomain: "pencarian-kode-grid.firebaseapp.com",
  projectId: "pencarian-kode-grid",
  storageBucket: "pencarian-kode-grid.appspot.com",
  messagingSenderId: "58802804762",
  appId: "1:58802804762:web:3289ea573f802f288d59a3"
};

firebase.initializeApp(firebaseConfig);

const auth = firebase.auth();
const db = firebase.database();

/* ================= DEVICE ID ================= */
function getDeviceId() {
  let id = localStorage.getItem("device_id");
  if (!id) {
    id = "dev-" + Math.random().toString(36).substr(2, 16);
    localStorage.setItem("device_id", id);
  }
  return id;
}
</script>

<style>
#watermark{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:9999;
  opacity:0.12;
  font-size:28px;
  color:red;
  display:flex;
  justify-content:center;
  align-items:center;
  transform:rotate(-30deg);
  white-space:pre-line;
  text-align:center;
}
</style>
</head>

<body>

<!-- ================= LOGIN ================= -->
<div id="loginBox">
  <h3>Login Akses</h3>
  <input type="email" id="email" placeholder="Email"><br><br>
  <input type="password" id="password" placeholder="Password"><br><br>
  <button onclick="login()">Login</button>
  <p id="loginError" style="color:red;"></p>
</div>

<!-- ================= DATA ================= -->
<div id="dataKode" style="display:none;">
  <div id="watermark"></div>
  <h2>Pencarian Kode GRID</h2>

  <input type="text" id="search" placeholder="Ketik kode...">
  <ul id="hasil"></ul>
</div>

<script>
/* ================= LOGIN FUNCTION ================= */
function login(){
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;
  const deviceId = getDeviceId();

  auth.signInWithEmailAndPassword(email,password)
    .then(cred=>{
      const uid = cred.user.uid;
      const ref = db.ref("sessions/"+uid);

      ref.once("value").then(snap=>{
        if(snap.exists() && snap.val().deviceId !== deviceId){
          alert("❌ Akun sudah login di HP lain");
          auth.signOut();
        }else{
          ref.set({
            deviceId: deviceId,
            email: email,
            lastLogin: Date.now()
          });
        }
      });
    })
    .catch(err=>{
      document.getElementById("loginError").innerText = err.message;
    });
}

/* ================= AUTH STATE ================= */
auth.onAuthStateChanged(user=>{
  const loginBox = document.getElementById("loginBox");
  const dataKode = document.getElementById("dataKode");
  const watermark = document.getElementById("watermark");

  if(user){
    loginBox.style.display="none";
    dataKode.style.display="block";
    watermark.innerText = "AKSES TERBATAS\n"+user.email;

    const uid = user.uid;
    const deviceId = getDeviceId();

    db.ref("sessions/"+uid).on("value",snap=>{
      if(snap.exists() && snap.val().deviceId !== deviceId){
        alert("⚠️ Akun login di perangkat lain");
        auth.signOut();
      }
    });
  }else{
    loginBox.style.display="block";
    dataKode.style.display="none";
  }
});
</script>

<script>
/* ================= DATA KODE ================= */
const dataBarang = [
  "SDINEF0-256G P RAM 8",
  "HN8T162EHK P RAM 8",
  "JZ496 P RAM 6",
  "YMEC9... P RAM 8",
    "SDINEDK4-256G P RAM 8",
    "HNST26EXKX03YN P RAM 8",
    "HNST26EXKX03N P RAM 8",
    "HNST26BXKX01N P RAM 8",
    "HNST26EXKX01N P RAM 8",
    "H2893SQJDMR P RAM 8",
    "THGJFAHTT3BAIR P RAM 8",
    "KLUEG8UCTA P RAM 8",
    " JZ369 P RAM 8",
    " JZ345 P RAM 8",
    "JZ242 P RAM 8",
    "JZ147 P RAM 8",
    "KM8F9001JM RAM 8",
    "H9hq21aecmzdar RAM 8",
    "Kmas9001pm RAM 8",
    "Kmjs9001rm RAM 8",
    "H9HQ22AECMMD RAM 8",
    "H9HQ21AFAMAD RAM 8",
    "KM8F8001MM RAM 6",
    "H9QT0G6CN6 RAM 6",
    "KM8V8001JM RAM 6",
    "H9HQ16AFAMMDAR RAM 6",  
    "H9HP16AECMMDAR RAM 6",  
    "KM8V7001JM RAM 6",  
    "KMDV6001DM RAM 6",  
    "KM5V7001DM RAM 6",  
    "KM3V6001CM RAM 6",  
    "KM2V7001CM RAM 6",  
    "KM5L9001DM RAM 6",  
    "KMDV6001DA RAM 6",  
    "KM2V8001CM RAM 6",  
    "H9HQ15AECMADAR RAM 6",  
    "H9HQ15AECMBDAR RAM 6",  
    "KM5V8001DM RAM 6",  
    "KM2L9001CM RAM 6",  
    "KM8V7001JA RAM 6",  
    "KM8V9001JM RAM 6",  
    "KMWV6001JM RAM 6",  
    "KMBL9001JM RAM 6",  
    "KMAG9001PM RAM 6",  
    "JZ103 RAM 6",  
    "JZ150 RAM 6",  
    "JZ151 RAM 6",  
    "JZ187 RAM 6",  
    "JZ266 RAM 6",  
    "JZ385 RAM 6",  
    "H9AG9G5ANB RAM 4",
    "KMRV10014M RAM 4",  
    "KMRV50014M RAM 4",  
    "KMWC10017M RAM 4",  
    "KMWV50017M RAM 4",  
    "KMWC10016M RAM 4",  
    "KMDH6001DM RAM 4",  
    "KMGP6001BM RAM 4",  
    "KM3H6001CM RAM 4",
    "KMDP6001DB RAM 4",
    "H9HP52ACPMMDAR RAM 4",  
    "H9HP52ADAMADAR RAM 4",  
    "H9HP52AECMMDBR RAM 4",  
    "4DR128G RAM 4",  
    "H9TQ52ACLTMCUR RAM 4",  
    "KMRH60014A RAM 4",  
    "KMRH60014M RAM 4",  
    "KMRC10014M RAM 4",  
    "HP53AC RAM 4",  
    "HQ52AC RAM 4",  
    "H9HQ53ACPMMDAR RAM 4",  
    "H9HQ54ACPMMDAR RAM 4",  
    "KM5H7001DM RAM 4",  
    "KM5P9001DM RAM 4",  
    "KM5P8001DM RAM 4",  
    "KM5C7001DM RAM 4",  
    "KMDC6001DM RAM 4",  
    "H9HQ53AECMMDAR RAM 4",  
    "H9HQ54AECMMDAR RAM 4",  
    "KM3P6001CM RAM 4",  
    "KM2H7001CM RAM 4",  
    "KM2P9001CM RAM 4",  
    "JZ128 RAM 4",  
    "JZ186 RAM 4",  
    "JZ109 RAM 4",  
    "JZ177 RAM 4",  
    "JZ168 RAM 4",  
    "JZ481 RAM 4",  
    "KMGD6001BM RAM 3",  
    "KMGX6001BM RAM 3",  
    "H9TQ26ADFTACUR RAM 3",  
    "H9TQ26ADFTBCUR RAM 3",  
    "KMR21000BM RAM 3",  
    "KMRX10014M RAM 3",  
    "KMRX1000BM RAM 3",  
    "KMRX60014M RAM 3",  
    "KMR4Z0001M RAM 3",  
    "KMR4Z0001A RAM 3",  
    "KMRD60014M RAM 3",  
    "H9TQ26ACLTMCUR RAM 3",  
    "52AD RAM 3",  
    "4DR64G RAM 3",  
    "KMGX6001BA RAM 3",  
    "H9TQ27ADFTMCUR RAM 3",  
    "H9TQ26ADFTMCUR RAM 3",  
    "KMDD60018M RAM 3",  
    "H9HP27ADAMADAR RAM 3",  
    "KMDX10018M RAM 3",  
    "KMDX60018M RAM 3",  
    "TQ27AC RAM 3",  
    "H9HP27ACVUMDARKLM RAM 3",  
    "H9HP26ACVUMDARKLM RAM 3",  
    "KMDX6001DM RAM 3",  
    "H9AG8GDM3MNB RAM 3",
    "JZ050 RAM 2'",
    "JZ013 RAM 2'",
    "JZ083 RAM 2'",
    "KMDD60013M RAM 2'",
    "KMQD60013M RAM 2'",  
    "H9TQ26ABJTMCUR RAM 2'",  
    "H9HP27ABUMMD RAM 2'",  
    "H9TQ26ABJTACUR RAM 2'",  
    "H9TQ26ABLDMCUR RAM 2'",  
    "KMQ4Z0013M RAM 2'",  
    "KMQX10013M RAM 2'",  
    "KMI4Z000MM RAM 2'",  
    "KMQX60013A RAM 2'",  
    "H9TQ26ABJTBCUR RAM 2'",  
    "H9TQ26ABJTMCUR RAM 2'",  
    "KMQD60013M RAM 2'",  
    "H9TQ27ABJTMCUR RAM 2'",  
    "H9HP27ABKMMDAR RAM 2'",  
    "H9HP27ABUMMDAR RAM 2'",  
    "KM4X6001KM RAM 2'",  
    "KMQE10013M RAM 2",  
    "KMQ310013M RAM 2",  
    "KMQ820013M RAM 2",  
    "KMRE1000BM RAM 2",  
    "KMR8X0001M RAM 2",  
    "KMR8X0001A RAM 2",  
    "KMR820001M RAM 2",  
    "KMR310001M Note di papan android masuk RAM 2/papan samsung A+-a",  
    "KMR31000BA Note di papan android masuk RAM 2/papan samsung A+-a",  
    "H9TQ17ABJTACUR RAM 2",  
    "H9TQ17ABJTBCUR RAM 2",  
    "H9TQ17ABJTMCUR RAM 2",  
    "H9TQ17ADFTACUR RAM 2",  
    "H9TQ17ADFTMCUR RAM 2",  
    "H9TQ18ABJTMCUR RAM 2",  
    "KMQE60013M RAM 2",  
    "H9TQ17ABJTCCUR RAM 2",  
    "KMR31000BM RAM 2",  
    "KMGE6001BM RAM 2",  
    "H9TQ17ADFTBCUR RAM 2",
    "YMEC6...  ... P RAM 3",
    "H28U6... ...P RAM 3",
    "H28U62301AMR P RAM 3",
    "H2MU64122MAR P RAM 3",
    "THGBMFG8C2LBAIL P RAM 3",
    "KLMBG4GEAC P RAM 3",  
    "KLMBG4GEND P RAM 3",  
    "KLMBG4WEBC P RAM 3",  
    "KLMBG4AWEBD P RAM 3",  
    "KLMBG2JENB P 32",  
    "KLMBG2JETD P 32",  
    "KLUBG4G1BD P 32",  
    "KLUBG4G1CE P 32",  
    "H26M64103EMR P 32",  
    "H26M64208FMR P 32",  
    "THGBMBG8D4KBAIR P 32",
    "THGBMBG8..... P 32",
    "SDINADFA 32 P 32",  
    "THGBF7G8K4BATR P 32",
    "THGLF2G8J4L P 32",
    "THGBMFG7C2LBAIL P 16",
    " JZ023 P 64",
    "KLMCG8GEND P 64",  
    " YMEC7... P RAM 4",
    "KLMCG8WEBD P 64",  
    "KLMCG4JENB P 64",  
    "KLMCG4JETD P 64",  
    "KLUCG4J1ED P 64",  
    "KLUCG8G1BD P 64",
    "KLMCG2UCTA P64",
    "H26M74002HMR P 64",  
    "JZ144 P 64",  
    "H28U74301AMR P 64",
    "H28S70302BMR P 64",
    "THGBMFG9C4LBAIR P 64",
    "H26M78103CCR P 64",  
    "H26M78208CMR P 64",  
    "THGBMH9C4LBAIL P 64",  
    "SDINADFA 64 P 64",  
    "SDADA4CR-64G P 64",
    "THGBF7G9L4LBATR P64",  
    "KLUDG4U1EA P 128",
    "H28U88301AMR P 128",
    "HNSTOSBZGKX015N P 128",
    "HNSTO... ...P 128",
    " YMEC8....P RAM 6",
    "JZ156 P 128",
    "JZ159 P 128",
    "JZ244 P 128",
    "JZ341 P 128",
    "JZ380 P 128",
    "HN8T062EHK P 128",
    "h26m88002amr P 128",
    "Kludg401ea P 128",
    "THGAF8TOT43BAIR P 128",  
    "KLUEG8U1EA P 128",  
    "SDINADFA 128 P 128",  
    "KLUDG8J1EB P 128",  
    "KLUDG8V1EE P 128",  
    "KLUDGAG1BD P 128",  
    "KLMDG4UCTA P128",  
    "KLUDG4UHDB P 128",
    "YMEC8A2TB3A2C3 P 128",
    "KLMDG4UCTB P 128", 
    "H26M4... ...P 8",
    "H26M5... ... P 16",
    "KLMA... ... P 16",
    "KLUA... ... P 16",
    "THGBMBG7.. ..P 16",
    "KLMAG2GEAC P 16",  
    "KLMAG2GEND P 16",  
    "KLMAG2WEMB P 16",  
    "KLMAG2WEPD P 16",  
    "H26M5200EQR P 16",  
    "H26M52103FMR P 16",  
    "H26M52208FPR P 16",  
    "THGBMBG7D2KBAIL P 16",  
    "THGBMBG7D4KBAIR P 16",  
    "THBGMFG7C1LBAIL P 16",  
    "THGBMHG7C1LBAIL P 16",  
    "SDINADFA-16G P 16",  
    "KLMAG1JENB P 16",  
    "KLMAG1JETD P 16",  
    "16EMCP16-EL3CV100 A+-a",  
    "16EMCP16-EL3DT527 A+-a",  
    "16EMCP16-EL3BT527 A+-a",  
    "16EMCP16-NL3DT527 A+-a",  
    "16EMCP16-NL3E527 A+-a",  
    "16EMCP16-ML3BM500 A+-a",  
    "16MCP16-EGM610 A+-a",  
    "JY932 A+-a ",  
    "JY950 A+-a",  
    "JZ008 A+-a",  
    "SDADF4AP-16G A+-a",  
    "SDADL28P-32G P 32",  
    "TYROIH331667RB A+-a",
    "TYEOHH231659RA A+-a",
    "TYEOHH221659RA A+-a",  
    "TYEOHH221657RA A+-a",  
    "TYEOHH221658RA A+-a",  
    "TYEOHH221668RA A+-a",  
    "H221657RA A+-a",  
    "H221658RA A+-a",  
    "H221659RA A+-a",  
    "H331667RA A+-a",  
    "H221668RA A+-a",  
    "KMK8U000VM A+-b",  
"KMK8X000VM A+-b",  
"KMFE10012M A+-B",  
"KMFE60012M A+-b",  
"KMF820012M A+-b",  
"KMF310012M A+-b",  
"KMQ8X000SA A+-b",  
"H9TP18A8JDMC A+-b",  
"16EMCP08-EL3BT527 A+",  
  "KMFN10012M A+",  
  "KMFNX10012M A+",  
  "KMFN60012M A+ kode seri S7DNTGHMD = emmc palsu",  
  "KMF720012M A+",  
  "KMFN10012A A+",
  "KMQ7X000SA A+",  
  "KMQ7X000SM A+",  
  "KMQ72000SM A+",  
  "KMQN10013M A+",  
  "KMK3U000VM A+",  
  "KMQ31000SM A+",  
  "KMQ82000SM A+",  
  "KMQ310013B A+-a",  
  "KMRNW0001M A+",  
  "KMR7X0001M A+",  
  "KMI8U000MA A+",  
  "KMI8X000MM A+",  
  "KMI2U000MA A+",
  "H9TQ64A8GTMCUR A+",  
  "H9TQ64A8GTACUR A+",  
  "H9TQ64ABJTMCUR A+",  
  "H9TQ65A8GTMCUR A+",  
  
  "SD9DS28K-8G A+",  
  "SDADB48K-16G A+",  
  "SDADL2AP-16G A+",  
  
  "KMQ310006A A+",  
  "KMQ310006M A+",  
  "KMQN1000SM A+", 
  "KMQNW006A A+SS",
  "KMQN10006M A+ss",  
  "KMQN10006B A+ss",  
"KLMBG4GEAC P32",  
 "KLMBG4GEND P32",  
 "KLMBG4WEBC P32",  
 "KLMBG4WEBD P32",  
 "KLMCG8GEND P32",  
  "KLMCG8WEBD P32",  
  "KLMBG2JENB P32",  
  "KLMBG2JETD P32",  
  "KLMCG4JENB P32",  
  "KLMCG4JETD P32",  
  "KLUCG4J1ED P32",  
  "KLUCG8G1BD P32",  
  "H26M74002HMR P32",  
  "H26M78103CCR P32",  
  "H26M78208CMR P32",  
  "THGBMHG9C4LBAIL P32",  
  "THGBF7G9L4LBATR P32",  
  "SDINADFA-32G P32",  
  "SDINADFA-64G P32",
    "HQTP32A4GDBC AB",
    "JY934 AB",
    "JY941 AB",
    " KMN5X000ZM AB",
    "H9TQ64A8GTMC A+",
    "W64412661E AB",
    "H8BCSOQGOMBP AB",
    " TYDOGH221651RA AB",
    "2400181-001.A00G-A AB",
    "H9TQ32A6BTMC AB",
    "H9TQ64AAETAC AB",
  "TYC0FH121638RA AB",
   "TYD0GH221640RA AB",
  "KLM8G1WE4A AB",
  "H8BCS0QG0MBP AB",
  "KNN5VZ000ZN AB",
  "JW899 AB",
  
];

/* ================= SEARCH ================= */
const search = document.getElementById("search");
const hasil = document.getElementById("hasil");

search.addEventListener("keyup",()=>{
  const key = search.value.toLowerCase();
  hasil.innerHTML="";
  dataBarang.forEach(item=>{
    if(item.toLowerCase().includes(key)){
      const li = document.createElement("li");
      li.textContent = item;
      hasil.appendChild(li);
    }
  });
});
</script>

</body>
</html>
